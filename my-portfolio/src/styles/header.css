/* src/styles/header.css */

/* --- Variables CSS para colores (Modo Claro por defecto) --- */
:root {
  --color-primary: #4f46e5; /* Índigo vibrante */
  --color-text-dark: #374151; /* Gris oscuro para texto principal */
  --color-text-light: #f9fafb; /* Gris muy claro para texto en fondos oscuros */
  --color-bg-light: #ffffff; /* Blanco puro */
  --color-bg-semi-transparent: rgba(255, 255, 255, 0.9); /* Blanco semitransparente con mayor opacidad */
  --color-shadow: rgba(0, 0, 0, 0.12); /* Sombra suave y definida */
  --color-hover-bg: #e0e7ff; /* Índigo muy claro para fondos al pasar el ratón */
  --color-border-subtle: #e5e7eb; /* Gris claro para bordes sutiles */
}

/* --- Modo Oscuro (se activa con el atributo data-theme="dark" en el html) --- */
html[data-theme="dark"] { /* ¡CAMBIO IMPORTANTE AQUÍ! */
  --color-primary: #818cf8; /* Índigo más claro y brillante para el modo oscuro */
  --color-text-dark: #cbd5e1; /* Gris claro para texto principal */
  --color-text-light: #1f2937; /* Gris muy oscuro para texto en fondos claros (si los hubiera) */
  --color-bg-light: #1a202c; /* Azul oscuro casi negro */
  --color-bg-semi-transparent: rgba(26, 32, 44, 0.9); /* Azul oscuro semi-transparente */
  --color-shadow: rgba(0, 0, 0, 0.6); /* Sombra más pronunciada para el modo oscuro */
  --color-hover-bg: #2d3748; /* Gris oscuro para fondos al pasar el ratón */
  --color-border-subtle: #4a5568; /* Gris medio para bordes sutiles */
}

/* --- Estilos Generales y Transiciones --- */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fuente más legible */
  background-color: var(--color-bg-light); /* Fondo global */
  color: var(--color-text-dark); /* Color de texto global */
  transition: background-color 0.4s ease, color 0.4s ease; /* Transición suave para el body */
}

/* Aplicar transiciones a todos los elementos afectados por el tema */
.header,
.header__logo,
.header__logo span, /* Añadir transición para el span del logo */
.header__nav-link,
.header__burger,
.header__mobile-menu,
.header__mobile-link,
.language-selector select,
.language-selector select option,
.dark-mode-toggle { /* Cambiado a .dark-mode-toggle */
  transition:
    background-color 0.3s ease,
    color 0.3s ease,
    box-shadow 0.3s ease,
    border-color 0.3s ease;
}

/* --- Header Principal --- */
.header {
  background-color: var(--color-bg-semi-transparent);
  backdrop-filter: blur(15px); /* Un poco más de blur */
  box-shadow: 0 6px 16px var(--color-shadow); /* Sombra ligeramente más grande */
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 1000; /* Asegura que esté por encima de casi todo */
}

.header > .container { /* Selector más específico para el container directo del header */
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px; /* Un poco más de padding lateral */
}

.header > .container > div { /* Contenedor de elementos principales del header */
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 70px; /* Altura del header ligeramente mayor */
}

/* --- Logo --- */
.header__logo {
  font-weight: 900;
  font-size: 1.75rem; /* Un poco más grande */
  color: var(--color-text-dark); /* Color base del texto para el logo */
  letter-spacing: 0.08em; /* Ajuste sutil */
  cursor: pointer;
}

.header__logo span {
  color: var(--color-primary); /* El color resaltado del logo */
}

/* --- Navegación de Escritorio --- */
.desktop-nav {
  display: none; /* Oculto por defecto en móvil */
  gap: 2.5rem; /* Aumento del espacio entre enlaces */
}

.header__nav-link {
  color: var(--color-text-dark);
  font-weight: 600;
  font-size: 1.05rem; /* Ligeramente más grande */
  position: relative;
  text-decoration: none; /* Asegura que no tenga subrayado por defecto */
  margin: 0; /* Ya se usa 'gap' en el contenedor flex */
}

.header__nav-link:hover,
.header__nav-link:focus {
  color: var(--color-primary);
  outline: none; /* Quitar el contorno de foco por defecto */
}

.header__nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px; /* Desplazado un poco más abajo */
  width: 0%;
  height: 3px; /* Más grueso */
  background-color: var(--color-primary);
  transition: width 0.3s ease-out; /* Transición más suave */
}

.header__nav-link:hover::after,
.header__nav-link:focus::after {
  width: 100%;
}

/* --- Acciones de Header (Selector de Idioma + Toggle de Modo Oscuro) --- */
.header__actions {
  display: flex; /* CAMBIO: Por defecto flex para desktop, oculto por media query en mobile */
  align-items: center;
  gap: 1.25rem; /* Espacio entre selectores/botones */
}

.language-selector select {
  background: transparent;
  border: 1px solid var(--color-border-subtle); /* Borde sutil */
  border-radius: 6px; /* Bordes redondeados */
  color: var(--color-text-dark);
  font-size: 0.95rem; /* Tamaño de fuente ligeramente menor que los enlaces */
  font-weight: 600;
  cursor: pointer;
  padding: 0.4rem 1rem; /* Más padding para mejorar la interacción */
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  text-align: center;
  outline: none;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05); /* Sombra interna sutil */
}

.language-selector select:hover {
  border-color: var(--color-primary); /* Borde primario al pasar el ratón */
  color: var(--color-primary);
}

.language-selector select option {
  color: var(--color-text-dark);
  background-color: var(--color-bg-light);
  padding: 0.5rem; /* Padding para las opciones */
}

.dark-mode-toggle { /* CAMBIO: Selector de clase ajustado */
  background: var(--color-hover-bg); /* Fondo sutil para el botón */
  border: none;
  cursor: pointer;
  color: var(--color-text-dark);
  width: 40px; /* Tamaño fijo para un botón redondo */
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 5px var(--color-shadow); /* Sombra para el botón */
}

.dark-mode-toggle:hover {
  background-color: var(--color-primary); /* Fondo primario al pasar el ratón */
  color: var(--color-text-light); /* Texto claro al pasar el ratón */
  transform: translateY(-2px); /* Pequeña elevación */
  box-shadow: 0 4px 10px var(--color-shadow); /* Sombra más grande al pasar el ratón */
}

/* Estilos para los iconos SVG dentro del botón de modo oscuro */
.dark-mode-toggle svg {
  width: 20px; /* Tamaño del icono ligeramente más pequeño */
  height: 20px;
  stroke-width: 2; /* Grosor del trazo */
}

/* --- Botón Hamburguesa (Móvil) --- */
.mobile-menu-button {
  display: block; /* Visible por defecto en móvil */
}

.header__burger {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--color-text-dark);
  padding: 0.5rem;
  transition: color 0.3s ease, transform 0.3s ease;
}

.header__burger:hover {
  color: var(--color-primary);
  transform: scale(1.1); /* Pequeña escala al pasar el ratón */
}

.header__burger svg {
  width: 28px; /* Icono un poco más grande */
  height: 28px;
}

/* --- Menú Móvil --- */
.header__mobile-menu {
  background-color: var(--color-bg-light);
  box-shadow: 0 8px 20px var(--color-shadow);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1.5rem 0; /* Más padding */
  width: 100%;
  position: absolute; /* Posiciona debajo del header fijo */
  top: 70px; /* Justo debajo de la altura del header */
  left: 0;
  border-top: 1px solid var(--color-border-subtle); /* Borde sutil en la parte superior */
}

.header__mobile-menu nav {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.header__mobile-link {
  padding: 1rem 1rem; /* Más padding para los enlaces */
  font-weight: 600;
  color: var(--color-text-dark);
  cursor: pointer;
  width: 100%;
  text-align: center;
  text-decoration: none;
}

.header__mobile-link:hover {
  background-color: var(--color-hover-bg);
  color: var(--color-primary);
}

/* --- Acciones Móviles (Idioma + Modo Oscuro dentro del menú móvil) --- */
.header__mobile-actions {
  display: flex; /* CAMBIO: Ahora se muestra por defecto con el menú móvil */
  flex-direction: row; /* Para que estén en línea en el menú móvil */
  justify-content: center; /* Centra los elementos */
  align-items: center;
  padding-top: 1.5rem; /* Más padding superior */
  gap: 1.5rem; /* Más espacio entre ellos */
  border-top: 1px solid var(--color-border-subtle);
  width: 100%;
  margin-top: 1rem; /* Espacio con los enlaces de navegación */
}

.header__mobile-actions .language-selector,
.header__mobile-actions .dark-mode-toggle {
    width: auto; /* Restablecer el ancho si se sobrescribió */
}


/* --- Reglas Responsivas (Desktop) --- */
@media (min-width: 768px) {
  .desktop-nav {
    display: flex !important; /* Muestra la navegación de escritorio */
    /* El gap ya está en .desktop-nav */
  }
  .mobile-menu-button {
    display: none !important; /* Oculta el botón hamburguesa en desktop */
  }
  .header__mobile-menu {
    display: none !important; /* Oculta el menú móvil en desktop */
  }
  .header__actions {
    display: flex !important; /* Muestra el contenedor de acciones en desktop */
  }
  .header__mobile-actions {
    display: none !important; /* Oculta las acciones móviles en desktop */
  }
}

/* --- Reglas Responsivas (Mobile) --- */
/* Por defecto, los elementos de escritorio están ocultos en móvil, y los móviles visibles */
/* Esto se maneja mejor en las reglas base, fuera de los media queries */

.desktop-nav,
.header__actions {
    display: none; /* Ocultar por defecto en móviles, se mostrarán en desktop con el media query */
}

.mobile-menu-button {
    display: block; /* Mostrar por defecto en móviles, se ocultará en desktop con el media query */
}

/* header__mobile-menu y header__mobile-actions se controlan por el estado 'isOpen' y las reglas de arriba */